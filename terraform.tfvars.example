# Terraform variables for RDS with Secrets Manager
# Copy this file to terraform.tfvars and modify as needed

# AWS Configuration
aws_region   = "us-west-2"
project_name = "myapp"
environment  = "dev"

# Database Configuration
db_name             = "myappdb"
db_username         = "admin"
db_engine_version   = "8.0.35"
db_instance_class   = "db.t3.micro"      # Use larger for production: db.t3.small, db.m5.large, etc.
db_allocated_storage = 20                 # Initial storage in GB
db_max_allocated_storage = 100            # Max autoscale storage in GB

# High Availability
db_multi_az = false                       # Set to true for production

# Backup Configuration
db_backup_retention_period = 7            # Days to retain backups

# Protection Settings
skip_final_snapshot = true                # Set to false in production
deletion_protection = false               # Set to true in production

# Encryption (optional - uses AWS managed key if not specified)
# kms_key_id = "arn:aws:kms:us-west-2:123456789012:key/12345678-1234-1234-1234-123456789012"

# Secrets Manager Configuration
secret_recovery_window = 7                # Days to allow secret recovery (7-30, or 0 for immediate deletion)

# Rotation Configuration
enable_rotation    = true                 # Enable automatic rotation
rotation_days      = 30                   # Rotate every 30 days
rotate_immediately = false                # Don't rotate on first apply

# Optional: Use cron expression instead of rotation_days
# rotation_schedule = "cron(0 0 1 * ? *)"  # First day of every month at midnight
